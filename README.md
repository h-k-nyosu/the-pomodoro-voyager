# the-pomodoro-voyager

## アプリの概要

このアプリは、ユーザーの日々の作業を支援し、その作業成果を基にアプリ内の RPG キャラクターを育成する作業支援ツールです。

ユーザーがポモドーロテクニックを利用して作業を進めると、その作業の成果はキャラクターの成長と物語の進行に反映されます。また、ユーザーは音声認識を利用して作業内容を入力し、その内容はキャラクターの能力向上に影響を与えます。さらに、キャラクターは週に一度、他のユーザーのキャラクターと対戦し、その結果も物語の一部として反映されます。

## ユースケース

1. ユーザーがアプリにログインし、ポモドーロテクニックを用いて作業を始めます。
2. 作業が完了すると、ユーザーは作業内容を音声で入力し、それがキャラクターのパラメータ（スキルや経験値など）に反映されます。
3. ユーザーはキャラクターの日記を確認し、自身の作業がキャラクターの物語にどのように組み込まれているかを確認できます。
4. 週に一度、ユーザーはキャラクターが他のキャラクターと対戦する様子を確認できます。これはキャラクターのパラメータに基づいて生成され、その結果は物語の一部として反映されます。
5. 月に一度、ユーザーはその月に学んだことなどを振り返ることができるユーザーの物語を受け取ります。

## 技術的な構想

1. **フロントエンド**: フロントエンドは、ユーザーがアプリを操作し、キャラクターの進行状況を確認できるようにするためのインターフェースとして機能します。また、音声認識を用いた作業内容の入力機能も提供します。
2. **バックエンド**: バックエンドは、ユーザーの作業内容を受け取り、それを明瞭で簡潔な言葉に言い換え、データベースに保存します。また、バックエンドは新しいパラメータを生成し、それを JSON 形式でシリアライズしてデータベースに格納します。
3. **バッチ処理**: バッチ処理は、前日の作業結果を基にキャラクターの成長を反映し、新たな日記エントリを生成します。また、週次のバッチ処理では、ランダムなキャラクター同士の対戦をシミュレートし、その結果を物語の一部として反映します。
4. **データベース**: データベースは、ユーザーの作業内容とキャラクターの進行状況を保存します。これにより、アプリはユーザーの過去の作業を追跡し、その作業に基づいてキャラクターの成長を計算できます。

## 詳細設計

### フロントエンド

1. **作業タイマー**: ポモドーロテクニックに基づくタイマー機能を実装します。ユーザーは 25 分間のタイマーを設定し、作業後に 5 分間の振り返りタイムを取ることができます。
2. **音声入力**: ユーザーは振り返りタイムに作業内容を音声で入力することができ、その内容がテキストに変換されます。この音声認識機能は、Web Speech API を用いて実装します。
3. **キャラクター表示**: ユーザーは自分のキャラクターのパラメータ（レベル、経験値、スキルなど）を確認できます。また、キャラクターの進行状況（物語の展開、対戦結果など）も表示されます。

### バックエンド

1. **内容の解析**: ユーザーから入力された内容は、LLM によって作業内容と学びに解析されます。解析されたデータは DB に書き込まれます
2. **キャラクター成長の計算**: バックエンドはユーザーの作業内容と学びを元に、キャラクターの経験値とスキルの成長を計算します。作業内容は経験値が小さく、学びは経験値が中くらいという設計です。また学びからは 1/10 の確率で新スキルの獲得につながります。
3. **対戦結果のシミュレーション**: バックエンドはキャラクターのパラメータを元に、週次のキャラクター対戦の結果をシミュレートします。

### データベース

1. **ユーザーデータ**: ユーザーのアカウント情報、作業内容・学び、作業時間等を保存します。
2. **キャラクターデータ**: キャラクターのパラメータ（レベル、経験値、スキル等）、物語の進行状況、対戦結果などを保存します。
